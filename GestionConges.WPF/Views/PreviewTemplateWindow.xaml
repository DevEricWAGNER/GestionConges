<Window x:Class="GestionConges.WPF.Views.PreviewTemplateWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Prévisualisation du Template Email" 
        Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Titre -->
        <TextBlock Grid.Row="0" Text="📧 Prévisualisation Email" 
                 FontSize="18" FontWeight="Bold" 
                 HorizontalAlignment="Center" Margin="0,0,0,20"/>

        <!-- Sujet -->
        <Border Grid.Row="1" Background="White" BorderBrush="#DDDDDD" BorderThickness="1" 
                Padding="15" Margin="0,0,0,15" CornerRadius="5">
            <StackPanel>
                <TextBlock Text="📋 Sujet :" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <TextBlock Name="TxtSujetPreview" TextWrapping="Wrap" 
                         Background="#F8F8F8" Padding="10" FontWeight="SemiBold"/>
            </StackPanel>
        </Border>

        <!-- Corps du message -->
        <Border Grid.Row="2" Background="White" BorderBrush="#DDDDDD" BorderThickness="1" 
                Padding="15" CornerRadius="5">
            <StackPanel>
                <TextBlock Text="💬 Corps du message :" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="300">
                    <TextBlock Name="TxtCorpsPreview" TextWrapping="Wrap" 
                             Background="#F8F8F8" Padding="15" FontFamily="Consolas"/>
                </ScrollViewer>

                <!-- Info variables -->
                <Border Background="#E8F5E8" BorderBrush="#4CAF50" BorderThickness="1" 
                        CornerRadius="4" Padding="10" Margin="0,15,0,0">
                    <StackPanel>
                        <TextBlock Text="💡 Variables remplacées par des valeurs de test :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <TextBlock FontSize="11" TextWrapping="Wrap">
                            {NomUtilisateur} → Jean Dupont • {TypeConge} → Congés Payés • {DateDebut} → 18/08/2025 • {DateFin} → 21/08/2025 • {NombreJours} → 3
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- Bouton Fermer -->
        <Button Grid.Row="3" Content="🚪 Fermer" 
              Background="#757575" Foreground="White" BorderThickness="0"
              Padding="20,10" Margin="0,20,0,0" HorizontalAlignment="Center"
              Click="BtnFermer_Click"/>
    </Grid>
</Window>