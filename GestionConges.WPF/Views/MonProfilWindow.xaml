<Window x:Class="GestionConges.WPF.Views.MonProfilWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Mon Profil - Gestion des Congés" 
        Height="650" Width="850"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Titre -->
        <TextBlock Grid.Row="0" 
                 Text="Mon Profil"
                 FontSize="24" FontWeight="Bold"
                 Margin="0,0,0,20"
                 HorizontalAlignment="Center"/>

        <!-- Contenu principal avec onglets -->
        <TabControl Grid.Row="1">

            <!-- Onglet Informations personnelles -->
            <TabItem Header="Informations personnelles">
                <ScrollViewer Padding="20">
                    <StackPanel>

                        <!-- Section Identité -->
                        <Border BorderBrush="#DDDDDD" BorderThickness="1" Padding="15" Margin="0,0,0,20" Background="White">
                            <StackPanel>
                                <TextBlock Text="Identité" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Nom -->
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Nom :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="1" Grid.Column="0" Name="TxtNom" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Prénom -->
                                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Prénom :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="1" Grid.Column="2" Name="TxtPrenom" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Email -->
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Email :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="3" Grid.Column="0" Name="TxtEmail" Padding="8" IsEnabled="False"/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Section Organisation -->
                        <Border BorderBrush="#DDDDDD" BorderThickness="1" Padding="15" Margin="0,0,0,20" Background="White">
                            <StackPanel>
                                <TextBlock Text="Organisation" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Rôle -->
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Rôle :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="1" Grid.Column="0" Name="TxtRole" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Société -->
                                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Société :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="1" Grid.Column="2" Name="TxtSociete" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Équipe -->
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Équipe :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="3" Grid.Column="0" Name="TxtEquipe" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Pôle -->
                                    <TextBlock Grid.Row="2" Grid.Column="2" Text="Pôle :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="3" Grid.Column="2" Name="TxtPole" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>
                                </Grid>

                                <!-- Section Sociétés secondaires -->
                                <TextBlock Text="Sociétés secondaires :" FontWeight="SemiBold" Margin="0,10,0,5"/>
                                <ListBox Name="LstSocietesSecondaires" 
                                       Height="80" 
                                       BorderBrush="#CCCCCC" 
                                       BorderThickness="1" 
                                       IsEnabled="False">
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Societe.Nom}"/>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>
                                <TextBlock Text="Aucune société secondaire" Name="TxtAucuneSocieteSecondaire"
                                         FontStyle="Italic" Foreground="Gray" Margin="0,5,0,0"
                                         Visibility="Collapsed"/>
                            </StackPanel>
                        </Border>

                        <!-- Section Informations compte -->
                        <Border BorderBrush="#DDDDDD" BorderThickness="1" Padding="15" Background="White">
                            <StackPanel>
                                <TextBlock Text="Informations du compte" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Date de création -->
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Compte créé le :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="1" Grid.Column="0" Name="TxtDateCreation" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Dernière connexion -->
                                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Dernière connexion :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="1" Grid.Column="2" Name="TxtDerniereConnexion" Padding="8" Margin="0,0,0,15" IsEnabled="False"/>

                                    <!-- Statut -->
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Statut :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                    <TextBox Grid.Row="3" Grid.Column="0" Name="TxtStatut" Padding="8" IsEnabled="False"/>
                                </Grid>
                            </StackPanel>
                        </Border>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Onglet Mot de passe -->
            <TabItem Header="Changer le mot de passe">
                <StackPanel Margin="50" VerticalAlignment="Center" MaxWidth="400">

                    <TextBlock Text="Modification du mot de passe" 
                             FontSize="18" FontWeight="Bold" 
                             HorizontalAlignment="Center" 
                             Margin="0,0,0,30"/>

                    <!-- Mot de passe actuel -->
                    <TextBlock Text="Mot de passe actuel :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <PasswordBox Name="TxtMotDePasseActuel" Padding="8" FontSize="14" Margin="0,0,0,15"/>

                    <!-- Nouveau mot de passe -->
                    <TextBlock Text="Nouveau mot de passe :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <PasswordBox Name="TxtNouveauMotDePasse" Padding="8" FontSize="14" Margin="0,0,0,15"/>

                    <!-- Confirmer nouveau mot de passe -->
                    <TextBlock Text="Confirmer le nouveau mot de passe :" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <PasswordBox Name="TxtConfirmerMotDePasse" Padding="8" FontSize="14" Margin="0,0,0,20"/>

                    <!-- Message d'erreur mot de passe -->
                    <Border Name="ErrorPanelPassword"
                          Background="#FFEBEE" 
                          BorderBrush="#F44336" 
                          BorderThickness="1" 
                          CornerRadius="4" 
                          Padding="10"
                          Margin="0,0,0,20"
                          Visibility="Collapsed">
                        <TextBlock Name="TxtErrorPassword" 
                                 Foreground="#F44336" 
                                 TextWrapping="Wrap" 
                                 VerticalAlignment="Center"/>
                    </Border>

                    <!-- Bouton changer mot de passe -->
                    <Button Name="BtnChangerMotDePasse" 
                          Content="Changer le mot de passe"
                          Background="#2196F3" Foreground="White" BorderThickness="0"
                          Height="45" FontSize="14" FontWeight="SemiBold"
                          Click="BtnChangerMotDePasse_Click"/>

                    <!-- Conseils sécurité -->
                    <Border Background="#E8F5E8" BorderBrush="#4CAF50" BorderThickness="1" 
                          CornerRadius="4" Padding="10" Margin="0,20,0,0">
                        <StackPanel>
                            <TextBlock Text="Conseils pour un mot de passe sécurisé :" 
                                     FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBlock Text="• Au moins 8 caractères" FontSize="12" Margin="5,0,0,2"/>
                            <TextBlock Text="• Mélange de lettres, chiffres et symboles" FontSize="12" Margin="5,0,0,2"/>
                            <TextBlock Text="• Évitez les mots du dictionnaire" FontSize="12" Margin="5,0,0,2"/>
                            <TextBlock Text="• Ne réutilisez pas vos autres mots de passe" FontSize="12" Margin="5,0,0,0"/>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </TabItem>

            <!-- Onglet Préférences -->
            <TabItem Header="Préférences">
                <ScrollViewer Padding="30">
                    <StackPanel>

                        <TextBlock Text="Préférences utilisateur" 
                                 FontSize="18" FontWeight="Bold" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,0,0,30"/>

                        <!-- Section Notifications -->
                        <Border BorderBrush="#DDDDDD" BorderThickness="1" Padding="15" Margin="0,0,0,20" Background="White">
                            <StackPanel>
                                <TextBlock Text="Notifications" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                                <CheckBox Name="ChkNotificationEmail" 
                                        Content="Recevoir les notifications par email" 
                                        Margin="0,0,0,10" 
                                        IsChecked="True"/>
                                <CheckBox Name="ChkNotificationValidation" 
                                        Content="M'alerter quand mes demandes sont validées/refusées" 
                                        Margin="0,0,0,10" 
                                        IsChecked="True"/>
                                <CheckBox Name="ChkNotificationRappel" 
                                        Content="Rappels pour les demandes en attente" 
                                        Margin="0,0,0,10" 
                                        IsChecked="False"/>
                            </StackPanel>
                        </Border>

                        <!-- Section Interface -->
                        <Border BorderBrush="#DDDDDD" BorderThickness="1" Padding="15" Margin="0,0,0,20" Background="White">
                            <StackPanel>
                                <TextBlock Text="Interface" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBlock Text="Format de date :" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <ComboBox Name="CmbFormatDate" Width="150" Padding="5">
                                        <ComboBoxItem Content="dd/MM/yyyy" IsSelected="True"/>
                                        <ComboBoxItem Content="MM/dd/yyyy"/>
                                        <ComboBoxItem Content="yyyy-MM-dd"/>
                                    </ComboBox>
                                </StackPanel>

                                <CheckBox Name="ChkAffichageCompact" 
                                        Content="Affichage compact des listes" 
                                        Margin="0,0,0,10"/>
                            </StackPanel>
                        </Border>

                        <!-- Boutons préférences -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
                            <Button Name="BtnSauvegarderPreferences" 
                                  Content="Sauvegarder les préférences"
                                  Background="#4CAF50" Foreground="White" BorderThickness="0"
                                  Padding="20,10" Margin="0,0,10,0"
                                  Click="BtnSauvegarderPreferences_Click"/>
                            <Button Name="BtnResetPreferences" 
                                  Content="Réinitialiser"
                                  Background="#757575" Foreground="White" BorderThickness="0"
                                  Padding="20,10"
                                  Click="BtnResetPreferences_Click"/>
                        </StackPanel>

                    </StackPanel>
                </ScrollViewer>
            </TabItem>

        </TabControl>

        <!-- Boutons fermer -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Name="BtnFermer" Content="Fermer"
                  Background="#757575" Foreground="White" BorderThickness="0"
                  Padding="20,10"
                  Click="BtnFermer_Click"/>
        </StackPanel>
    </Grid>
</Window>