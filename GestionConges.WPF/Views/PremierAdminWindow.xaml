<Window x:Class="GestionConges.WPF.Views.PremierAdminWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Configuration du Compte Administrateur" 
        Height="800" Width="600"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource Background}"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True">

    <Border CornerRadius="16" Background="{StaticResource Background}"
            BorderBrush="{StaticResource Gray200}" BorderThickness="1">
        <Grid Margin="32">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header avec icône et titre -->
            <Grid Grid.Row="0" Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Border Background="{StaticResource Primary}" 
                            Width="56" Height="56" 
                            CornerRadius="16" Margin="0,0,20,0">
                        <TextBlock Text="👤" FontSize="28" 
                                 Foreground="White"
                                 HorizontalAlignment="Center" 
                                 VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Bienvenue !" 
                                 FontSize="32" FontWeight="Bold" 
                                 Foreground="{StaticResource TextPrimary}"
                                 Margin="0,0,0,4"/>
                        <TextBlock Text="Configurez votre compte administrateur principal" 
                                 FontSize="16" 
                                 Foreground="{StaticResource TextSecondary}"/>
                    </StackPanel>
                </StackPanel>

                <!-- Bouton fermer -->
                <Button Grid.Column="1" Content="✕" 
                      Width="32" Height="32" 
                      Background="Transparent" 
                      BorderThickness="0" 
                      Foreground="{StaticResource Gray400}"
                      FontSize="16"
                      Click="BtnAnnuler_Click"/>
            </Grid>

            <!-- Informations importantes -->
            <Border Grid.Row="0" Background="{StaticResource Secondary}" 
                    CornerRadius="12" Padding="20"
                    Margin="0,100,0,32" Opacity="0.1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ℹ️" FontSize="20" 
                             Margin="0,0,12,0" VerticalAlignment="Center"/>
                    <TextBlock Text="Ce compte aura tous les droits d'administration sur l'application" 
                             FontSize="14" FontWeight="SemiBold"
                             Foreground="White" 
                             VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Formulaire dans ScrollViewer -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <StackPanel>

                    <!-- Section Informations personnelles -->
                    <Border Background="{StaticResource Surface}" 
                            BorderBrush="{StaticResource Gray200}" BorderThickness="1"
                            CornerRadius="16" Padding="24" 
                            Margin="0,0,0,24">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                                <Border Background="{StaticResource Warning}" 
                                        Width="32" Height="32" 
                                        CornerRadius="8" Margin="0,0,12,0">
                                    <TextBlock Text="👨" FontSize="16" 
                                             Foreground="White"
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Informations personnelles" 
                                         FontSize="18" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         VerticalAlignment="Center"/>
                            </StackPanel>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Nom" FontWeight="SemiBold" 
                                             Foreground="{StaticResource TextPrimary}"
                                             Margin="0,0,0,8"/>
                                    <Border Background="{StaticResource Surface}" 
                                            BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                            CornerRadius="8" Padding="14">
                                        <TextBox Name="TxtNom" 
                                               Background="Transparent" BorderThickness="0"
                                               FontSize="14" MaxLength="50"
                                               Foreground="{StaticResource TextPrimary}"/>
                                    </Border>
                                </StackPanel>

                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Prénom" FontWeight="SemiBold" 
                                             Foreground="{StaticResource TextPrimary}"
                                             Margin="0,0,0,8"/>
                                    <Border Background="{StaticResource Surface}" 
                                            BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                            CornerRadius="8" Padding="14">
                                        <TextBox Name="TxtPrenom" 
                                               Background="Transparent" BorderThickness="0"
                                               FontSize="14" MaxLength="50"
                                               Foreground="{StaticResource TextPrimary}"/>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Section Informations de connexion -->
                    <Border Background="{StaticResource Surface}" 
                            BorderBrush="{StaticResource Gray200}" BorderThickness="1"
                            CornerRadius="16" Padding="24" 
                            Margin="0,0,0,24">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                                <Border Background="{StaticResource Primary}" 
                                        Width="32" Height="32" 
                                        CornerRadius="8" Margin="0,0,12,0">
                                    <TextBlock Text="🔐" FontSize="16" 
                                             Foreground="White"
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Informations de connexion" 
                                         FontSize="18" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         VerticalAlignment="Center"/>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,20">
                                <TextBlock Text="Adresse email" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         Margin="0,0,0,8"/>
                                <Border Background="{StaticResource Gray100}" 
                                        BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                        CornerRadius="8" Padding="14">
                                    <TextBox Name="TxtEmail" 
                                           Background="Transparent" BorderThickness="0"
                                           FontSize="14" MaxLength="200" IsReadOnly="True"
                                           Foreground="{StaticResource TextMuted}"/>
                                </Border>
                                <TextBlock Text="Cette adresse servira pour la connexion et les notifications" 
                                         FontSize="12" Foreground="{StaticResource TextMuted}" 
                                         Margin="0,6,0,0"/>
                            </StackPanel>

                            <StackPanel>
                                <TextBlock Text="Mot de passe" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         Margin="0,0,0,8"/>
                                <Border Background="{StaticResource Gray100}" 
                                        BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                        CornerRadius="8" Padding="14">
                                    <PasswordBox Name="TxtMotDePasse" 
                                               Background="Transparent" BorderThickness="0"
                                               FontSize="14" IsEnabled="False"
                                               Foreground="{StaticResource TextMuted}"/>
                                </Border>
                                <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                                    <Border Background="{StaticResource Secondary}" 
                                            CornerRadius="4" Padding="4,2" Margin="0,0,8,0">
                                        <TextBlock Text="✓" Foreground="White" FontSize="10" FontWeight="Bold"/>
                                    </Border>
                                    <TextBlock Text="Mot de passe valide (8+ caractères)" 
                                             FontSize="12" Foreground="{StaticResource TextMuted}"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Section Organisation -->
                    <Border Background="{StaticResource Surface}" 
                            BorderBrush="{StaticResource Gray200}" BorderThickness="1"
                            CornerRadius="16" Padding="24" 
                            Margin="0,0,0,24">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                                <Border Background="{StaticResource Danger}" 
                                        Width="32" Height="32" 
                                        CornerRadius="8" Margin="0,0,12,0">
                                    <TextBlock Text="🏢" FontSize="16" 
                                             Foreground="White"
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Organisation" 
                                         FontSize="18" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         VerticalAlignment="Center"/>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,20">
                                <TextBlock Text="Société" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         Margin="0,0,0,8"/>
                                <Border Background="{StaticResource Surface}" 
                                        BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                        CornerRadius="8" Padding="2">
                                    <ComboBox Name="CmbSociete" 
                                            Background="Transparent" BorderThickness="0"
                                            Padding="12" FontSize="14"
                                            SelectionChanged="CmbSociete_SelectionChanged"/>
                                </Border>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,20">
                                <TextBlock Text="Équipe" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         Margin="0,0,0,8"/>
                                <Border Background="{StaticResource Surface}" 
                                        BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                        CornerRadius="8" Padding="2">
                                    <ComboBox Name="CmbEquipe" 
                                            Background="Transparent" BorderThickness="0"
                                            Padding="12" FontSize="14"
                                            SelectionChanged="CmbEquipe_SelectionChanged"/>
                                </Border>
                            </StackPanel>

                            <StackPanel>
                                <TextBlock Text="Pôle (optionnel)" FontWeight="SemiBold" 
                                         Foreground="{StaticResource TextPrimary}"
                                         Margin="0,0,0,8"/>
                                <Border Background="{StaticResource Surface}" 
                                        BorderBrush="{StaticResource Gray300}" BorderThickness="1"
                                        CornerRadius="8" Padding="2">
                                    <ComboBox Name="CmbPole" 
                                            Background="Transparent" BorderThickness="0"
                                            Padding="12" FontSize="14"/>
                                </Border>
                                <TextBlock Text="En tant qu'administrateur, vous pourrez gérer toutes les structures" 
                                         FontSize="12" Foreground="{StaticResource TextMuted}" 
                                         Margin="0,6,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Informations importantes -->
                    <Border Background="#E8F5E8" 
                            BorderBrush="{StaticResource Secondary}" BorderThickness="2" 
                            CornerRadius="12" Padding="20">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Border Background="{StaticResource Secondary}" 
                                        Width="24" Height="24" 
                                        CornerRadius="12" Margin="0,0,12,0">
                                    <TextBlock Text="!" FontSize="14" FontWeight="Bold"
                                             Foreground="White"
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Informations importantes" 
                                         FontWeight="Bold" FontSize="16" 
                                         Foreground="#2E7D32"
                                         VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock TextWrapping="Wrap" FontSize="14" Foreground="#1B5E20" LineHeight="22">
                                • Vous serez créé avec le rôle "Administrateur" (droits complets)<LineBreak/>
                                • Vous aurez des droits de validation sur toutes les sociétés<LineBreak/>
                                • Vous pourrez créer d'autres utilisateurs et gérer l'application<LineBreak/>
                                • Ces informations pourront être modifiées plus tard dans votre profil<LineBreak/>
                                • Conservez précieusement vos identifiants de connexion
                            </TextBlock>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </ScrollViewer>

            <!-- Boutons d'action -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" 
                      HorizontalAlignment="Center" 
                      Margin="0,32,0,0">
                <Button Name="BtnCreer" 
                      Style="{StaticResource MaterialDesignRaisedButton}"
                      Background="{StaticResource Secondary}"
                      Padding="32,14" Margin="0,0,16,0" 
                      FontSize="14" FontWeight="SemiBold"
                      Click="BtnCreer_Click">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="✓" FontSize="16" Margin="0,0,8,0"/>
                        <TextBlock Text="Créer le Compte Administrateur"/>
                    </StackPanel>
                </Button>

                <Button Name="BtnAnnuler" 
                      Style="{StaticResource MaterialDesignOutlineButton}"
                      Padding="32,14" 
                      FontSize="14" FontWeight="SemiBold"
                      Click="BtnAnnuler_Click">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="✗" FontSize="16" Margin="0,0,8,0"/>
                        <TextBlock Text="Annuler"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>